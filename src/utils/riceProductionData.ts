import { RiceProductionMetric } from '@/types/riceData';

// Update initial data with the provided sample (expanded dataset)
export const initialRiceProductionData: RiceProductionMetric[] = [
  { id: 1, tagId: 'INPUT_PADDY_TPH', value: 15.15, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 2, tagId: 'INPUT_PADDY_TOT', value: 120.25, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 3, tagId: 'BROWN_RICE_TPH_1', value: 5.84, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 4, tagId: 'BROWN_RICE_TPH_2', value: 5.63, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 5, tagId: 'BROWN_RICE_TOT_1', value: 45.7, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 6, tagId: 'BROWN_RICE_TOT_2', value: 44.49, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 7, tagId: 'WHITE_RICE_TPH', value: 9.58, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 8, tagId: 'WHITE_RICE_TOT', value: 76.16, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 9, tagId: 'ENERGY_AMPS', value: 106.66, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 10, tagId: 'ENERGY_KWH', value: 500.68, timestamp: 1743691200000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:00' },
  { id: 11, tagId: 'INPUT_PADDY_TPH', value: 15.34, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 12, tagId: 'INPUT_PADDY_TOT', value: 120.51, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 13, tagId: 'BROWN_RICE_TPH_1', value: 5.86, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 14, tagId: 'BROWN_RICE_TPH_2', value: 5.63, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 15, tagId: 'BROWN_RICE_TOT_1', value: 45.8, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 16, tagId: 'BROWN_RICE_TOT_2', value: 44.58, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 17, tagId: 'WHITE_RICE_TPH', value: 9.79, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 18, tagId: 'WHITE_RICE_TOT', value: 76.32, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 19, tagId: 'ENERGY_AMPS', value: 111.73, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 20, tagId: 'ENERGY_KWH', value: 501.39, timestamp: 1743691260000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:01' },
  { id: 21, tagId: 'INPUT_PADDY_TPH', value: 14.98, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 22, tagId: 'INPUT_PADDY_TOT', value: 120.76, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 23, tagId: 'BROWN_RICE_TPH_1', value: 5.65, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 24, tagId: 'BROWN_RICE_TPH_2', value: 5.52, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 25, tagId: 'BROWN_RICE_TOT_1', value: 45.89, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 26, tagId: 'BROWN_RICE_TOT_2', value: 44.67, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 27, tagId: 'WHITE_RICE_TPH', value: 9.35, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 28, tagId: 'WHITE_RICE_TOT', value: 76.48, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 29, tagId: 'ENERGY_AMPS', value: 112.73, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 30, tagId: 'ENERGY_KWH', value: 502.1, timestamp: 1743691320000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:02' },
  { id: 31, tagId: 'INPUT_PADDY_TPH', value: 15.45, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 32, tagId: 'INPUT_PADDY_TOT', value: 121.02, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 33, tagId: 'BROWN_RICE_TPH_1', value: 5.93, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 34, tagId: 'BROWN_RICE_TPH_2', value: 5.78, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 35, tagId: 'BROWN_RICE_TOT_1', value: 45.99, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 36, tagId: 'BROWN_RICE_TOT_2', value: 44.77, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 37, tagId: 'WHITE_RICE_TPH', value: 10.13, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 38, tagId: 'WHITE_RICE_TOT', value: 76.65, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 39, tagId: 'ENERGY_AMPS', value: 106.3, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 40, tagId: 'ENERGY_KWH', value: 502.77, timestamp: 1743691380000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:03' },
  { id: 41, tagId: 'INPUT_PADDY_TPH', value: 15.18, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 42, tagId: 'INPUT_PADDY_TOT', value: 121.27, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 43, tagId: 'BROWN_RICE_TPH_1', value: 5.73, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 44, tagId: 'BROWN_RICE_TPH_2', value: 5.6, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 45, tagId: 'BROWN_RICE_TOT_1', value: 46.09, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 46, tagId: 'BROWN_RICE_TOT_2', value: 44.86, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 47, tagId: 'WHITE_RICE_TPH', value: 9.46, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 48, tagId: 'WHITE_RICE_TOT', value: 76.81, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 49, tagId: 'ENERGY_AMPS', value: 105.65, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 50, tagId: 'ENERGY_KWH', value: 503.44, timestamp: 1743691440000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:04' },
  { id: 51, tagId: 'INPUT_PADDY_TPH', value: 14.99, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 52, tagId: 'INPUT_PADDY_TOT', value: 121.52, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 53, tagId: 'BROWN_RICE_TPH_1', value: 5.65, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 54, tagId: 'BROWN_RICE_TPH_2', value: 5.5, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 55, tagId: 'BROWN_RICE_TOT_1', value: 46.18, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 56, tagId: 'BROWN_RICE_TOT_2', value: 44.95, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 57, tagId: 'WHITE_RICE_TPH', value: 9.53, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 58, tagId: 'WHITE_RICE_TOT', value: 76.97, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 59, tagId: 'ENERGY_AMPS', value: 106.51, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 60, tagId: 'ENERGY_KWH', value: 504.11, timestamp: 1743691500000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:05' },
  { id: 61, tagId: 'INPUT_PADDY_TPH', value: 15.34, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 62, tagId: 'INPUT_PADDY_TOT', value: 121.78, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 63, tagId: 'BROWN_RICE_TPH_1', value: 5.79, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 64, tagId: 'BROWN_RICE_TPH_2', value: 5.64, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 65, tagId: 'BROWN_RICE_TOT_1', value: 46.28, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 66, tagId: 'BROWN_RICE_TOT_2', value: 45.04, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 67, tagId: 'WHITE_RICE_TPH', value: 9.78, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 68, tagId: 'WHITE_RICE_TOT', value: 77.13, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 69, tagId: 'ENERGY_AMPS', value: 113.49, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 70, tagId: 'ENERGY_KWH', value: 504.83, timestamp: 1743691560000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:06' },
  { id: 71, tagId: 'INPUT_PADDY_TPH', value: 15.08, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 72, tagId: 'INPUT_PADDY_TOT', value: 122.03, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 73, tagId: 'BROWN_RICE_TPH_1', value: 5.81, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 74, tagId: 'BROWN_RICE_TPH_2', value: 5.59, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 75, tagId: 'BROWN_RICE_TOT_1', value: 46.38, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 76, tagId: 'BROWN_RICE_TOT_2', value: 45.13, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 77, tagId: 'WHITE_RICE_TPH', value: 9.85, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 78, tagId: 'WHITE_RICE_TOT', value: 77.29, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 79, tagId: 'ENERGY_AMPS', value: 114.5, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 80, tagId: 'ENERGY_KWH', value: 505.56, timestamp: 1743691620000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:07' },
  { id: 81, tagId: 'INPUT_PADDY_TPH', value: 15.12, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 82, tagId: 'INPUT_PADDY_TOT', value: 122.28, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 83, tagId: 'BROWN_RICE_TPH_1', value: 5.72, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 84, tagId: 'BROWN_RICE_TPH_2', value: 5.68, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 85, tagId: 'BROWN_RICE_TOT_1', value: 46.48, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 86, tagId: 'BROWN_RICE_TOT_2', value: 45.22, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 87, tagId: 'WHITE_RICE_TPH', value: 9.69, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 88, tagId: 'WHITE_RICE_TOT', value: 77.45, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 89, tagId: 'ENERGY_AMPS', value: 114.53, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 90, tagId: 'ENERGY_KWH', value: 506.29, timestamp: 1743691680000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:08' },
  { id: 91, tagId: 'INPUT_PADDY_TPH', value: 15.2, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 92, tagId: 'INPUT_PADDY_TOT', value: 122.53, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 93, tagId: 'BROWN_RICE_TPH_1', value: 5.86, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 94, tagId: 'BROWN_RICE_TPH_2', value: 5.72, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 95, tagId: 'BROWN_RICE_TOT_1', value: 46.58, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 96, tagId: 'BROWN_RICE_TOT_2', value: 45.32, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 97, tagId: 'WHITE_RICE_TPH', value: 9.77, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 98, tagId: 'WHITE_RICE_TOT', value: 77.61, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 99, tagId: 'ENERGY_AMPS', value: 105.49, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 100, tagId: 'ENERGY_KWH', value: 506.96, timestamp: 1743691740000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:09' },
  { id: 101, tagId: 'INPUT_PADDY_TPH', value: 15.18, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 102, tagId: 'INPUT_PADDY_TOT', value: 122.78, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 103, tagId: 'BROWN_RICE_TPH_1', value: 5.82, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 104, tagId: 'BROWN_RICE_TPH_2', value: 5.69, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 105, tagId: 'BROWN_RICE_TOT_1', value: 46.68, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 106, tagId: 'BROWN_RICE_TOT_2', value: 45.41, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 107, tagId: 'WHITE_RICE_TPH', value: 9.98, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 108, tagId: 'WHITE_RICE_TOT', value: 77.78, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 109, tagId: 'ENERGY_AMPS', value: 114.25, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 110, tagId: 'ENERGY_KWH', value: 507.68, timestamp: 1743691800000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:10' },
  { id: 111, tagId: 'INPUT_PADDY_TPH', value: 15.54, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 112, tagId: 'INPUT_PADDY_TOT', value: 123.04, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 113, tagId: 'BROWN_RICE_TPH_1', value: 5.92, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 114, tagId: 'BROWN_RICE_TPH_2', value: 5.67, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 115, tagId: 'BROWN_RICE_TOT_1', value: 46.78, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 116, tagId: 'BROWN_RICE_TOT_2', value: 45.5, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 117, tagId: 'WHITE_RICE_TPH', value: 9.81, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 118, tagId: 'WHITE_RICE_TOT', value: 77.94, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 119, tagId: 'ENERGY_AMPS', value: 108.28, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 120, tagId: 'ENERGY_KWH', value: 508.37, timestamp: 1743691860000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:11' },
  { id: 121, tagId: 'INPUT_PADDY_TPH', value: 15.19, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 122, tagId: 'INPUT_PADDY_TOT', value: 123.29, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 123, tagId: 'BROWN_RICE_TPH_1', value: 5.84, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 124, tagId: 'BROWN_RICE_TPH_2', value: 5.68, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 125, tagId: 'BROWN_RICE_TOT_1', value: 46.88, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 126, tagId: 'BROWN_RICE_TOT_2', value: 45.59, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 127, tagId: 'WHITE_RICE_TPH', value: 9.96, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 128, tagId: 'WHITE_RICE_TOT', value: 78.11, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 129, tagId: 'ENERGY_AMPS', value: 114.61, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 130, tagId: 'ENERGY_KWH', value: 509.1, timestamp: 1743691920000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:12' },
  { id: 131, tagId: 'INPUT_PADDY_TPH', value: 15.34, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 132, tagId: 'INPUT_PADDY_TOT', value: 123.55, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 133, tagId: 'BROWN_RICE_TPH_1', value: 5.74, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 134, tagId: 'BROWN_RICE_TPH_2', value: 5.64, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 135, tagId: 'BROWN_RICE_TOT_1', value: 46.98, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 136, tagId: 'BROWN_RICE_TOT_2', value: 45.68, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 137, tagId: 'WHITE_RICE_TPH', value: 9.67, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 138, tagId: 'WHITE_RICE_TOT', value: 78.27, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 139, tagId: 'ENERGY_AMPS', value: 106.51, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 140, tagId: 'ENERGY_KWH', value: 509.77, timestamp: 1743691980000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:13' },
  { id: 141, tagId: 'INPUT_PADDY_TPH', value: 15.33, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 142, tagId: 'INPUT_PADDY_TOT', value: 123.81, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 143, tagId: 'BROWN_RICE_TPH_1', value: 5.91, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 144, tagId: 'BROWN_RICE_TPH_2', value: 5.77, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 145, tagId: 'BROWN_RICE_TOT_1', value: 47.08, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 146, tagId: 'BROWN_RICE_TOT_2', value: 45.78, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 147, tagId: 'WHITE_RICE_TPH', value: 9.82, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 148, tagId: 'WHITE_RICE_TOT', value: 78.43, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 149, tagId: 'ENERGY_AMPS', value: 114.75, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 150, tagId: 'ENERGY_KWH', value: 510.5, timestamp: 1743692040000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:14' },
  { id: 151, tagId: 'INPUT_PADDY_TPH', value: 15.72, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 152, tagId: 'INPUT_PADDY_TOT', value: 124.07, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 153, tagId: 'BROWN_RICE_TPH_1', value: 5.91, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 154, tagId: 'BROWN_RICE_TPH_2', value: 5.73, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 155, tagId: 'BROWN_RICE_TOT_1', value: 47.18, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 156, tagId: 'BROWN_RICE_TOT_2', value: 45.88, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 157, tagId: 'WHITE_RICE_TPH', value: 9.9, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' },
  { id: 158, tagId: 'WHITE_RICE_TOT', value: 78.6, timestamp: 1743692100000, machineId: 'KRBL_Line_4', createdAt: '08-04-2025 10:15' }
];

// Function to generate updated rice production metrics with some random variation
export const generateUpdatedRiceData = (
  baseData: RiceProductionMetric[]
): RiceProductionMetric[] => {
  const lastTimestamp = baseData[baseData.length - 1].timestamp;
  const newTimestamp = lastTimestamp + 60000; // Add 1 minute
  const currentDate = new Date(newTimestamp);
  const formattedTime = `${currentDate.getDate().toString().padStart(2, '0')}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate.getFullYear()} ${currentDate.getHours().toString().padStart(2, '0')}:${currentDate.getMinutes().toString().padStart(2, '0')}`;

  // Group the last set of metrics by tagId
  const latestMetrics: Record<string, RiceProductionMetric> = {};
  const uniqueTagIds = new Set<string>();
  
  baseData.forEach(metric => {
    uniqueTagIds.add(metric.tagId);
    if (!latestMetrics[metric.tagId] || metric.timestamp > latestMetrics[metric.tagId].timestamp) {
      latestMetrics[metric.tagId] = metric;
    }
  });

  // Generate new metrics based on the latest values with some random variation
  const newMetrics: RiceProductionMetric[] = [];
  let nextId = baseData[baseData.length - 1].id + 1;

  Array.from(uniqueTagIds).forEach(tagId => {
    const latestMetric = latestMetrics[tagId];
    let newValue: number;
    
    // Apply different logic based on the metric type
    if (tagId.includes('TOT')) {
      // Total values should always increase
      newValue = latestMetric.value + (Math.random() * 0.3 + 0.1);
    } else if (tagId.includes('TPH')) {
      // Throughput can fluctuate
      newValue = latestMetric.value * (1 + (Math.random() * 0.1 - 0.05));
    } else if (tagId === 'ENERGY_AMPS') {
      // Amps can fluctuate
      newValue = latestMetric.value * (1 + (Math.random() * 0.08 - 0.04));
    } else if (tagId === 'ENERGY_KWH') {
      // Energy consumption always increases
      newValue = latestMetric.value + (Math.random() * 0.8 + 0.3);
    } else {
      // Default case with small variation
      newValue = latestMetric.value * (1 + (Math.random() * 0.04 - 0.02));
    }
    
    newMetrics.push({
      id: nextId++,
      tagId: latestMetric.tagId,
      value: +newValue.toFixed(2),
      timestamp: newTimestamp,
      machineId: latestMetric.machineId,
      createdAt: formattedTime
    });
  });

  return [...baseData, ...newMetrics];
};

// Get the latest value for each unique tagId
export const getLatestMetrics = (data: RiceProductionMetric[]) => {
  const latestMetrics: Record<string, RiceProductionMetric> = {};
  
  data.forEach(metric => {
    if (!latestMetrics[metric.tagId] || metric.timestamp > latestMetrics[metric.tagId].timestamp) {
      latestMetrics[metric.tagId] = metric;
    }
  });
  
  return Object.values(latestMetrics);
};

// Calculate the rate of change for a specific metric
export const calculateChange = (
  data: RiceProductionMetric[],
  tagId: string
): { value: number; direction: 'up' | 'down' | 'neutral' } => {
  const metrics = data.filter(m => m.tagId === tagId).sort((a, b) => a.timestamp - b.timestamp);
  
  if (metrics.length < 2) {
    return { value: 0, direction: 'neutral' };
  }
  
  const current = metrics[metrics.length - 1].value;
  const previous = metrics[metrics.length - 2].value;
  const change = ((current - previous) / previous) * 100;
  
  return {
    value: +Math.abs(change).toFixed(1),
    direction: change > 0 ? 'up' : change < 0 ? 'down' : 'neutral'
  };
};

// Create a component to display the rice production data
export const createRiceMetricsData = (data: RiceProductionMetric[]) => {
  const latest = getLatestMetrics(data);
  
  return [
    {
      title: "Paddy Input Rate",
      value: latest.find(m => m.tagId === 'INPUT_PADDY_TPH')?.value || 0,
      unit: "TPH",
      change: calculateChange(data, 'INPUT_PADDY_TPH').value,
      trend: calculateChange(data, 'INPUT_PADDY_TPH').direction as 'up' | 'down' | 'neutral'
    },
    {
      title: "White Rice Output",
      value: latest.find(m => m.tagId === 'WHITE_RICE_TPH')?.value || 0,
      unit: "TPH",
      change: calculateChange(data, 'WHITE_RICE_TPH').value,
      trend: calculateChange(data, 'WHITE_RICE_TPH').direction as 'up' | 'down' | 'neutral'
    },
    {
      title: "Energy Consumption",
      value: latest.find(m => m.tagId === 'ENERGY_AMPS')?.value || 0,
      unit: "A",
      change: calculateChange(data, 'ENERGY_AMPS').value,
      trend: calculateChange(data, 'ENERGY_AMPS').direction as 'up' | 'down' | 'neutral'
    },
    {
      title: "Total Energy",
      value: latest.find(m => m.tagId === 'ENERGY_KWH')?.value || 0,
      unit: "kWh",
      change: calculateChange(data, 'ENERGY_KWH').value,
      trend: calculateChange(data, 'ENERGY_KWH').direction as 'up' | 'down' | 'neutral'
    }
  ];
};
